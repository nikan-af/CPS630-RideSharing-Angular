{"version":3,"file":"geoapify-angular-geocoder-autocomplete.umd.js","sources":["../../../projects/angular-geocoder-autocomplete/src/lib/geoapify-config.ts","../../../projects/angular-geocoder-autocomplete/src/lib/geocoder-autocomplete.component.ts","../../../projects/angular-geocoder-autocomplete/src/lib/geocoder-autocomplete.module.ts","../../../projects/angular-geocoder-autocomplete/src/public-api.ts","../../../projects/angular-geocoder-autocomplete/src/geoapify-angular-geocoder-autocomplete.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const GEOAPIFY_CONFIG = new InjectionToken<GeoapifyConfig>('geoapify.config');\nexport interface GeoapifyConfig {\n    apiKey: string;\n}","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit, SimpleChanges, Input, OnChanges, Output, EventEmitter, OnDestroy, Inject } from '@angular/core';\nimport { GeocoderAutocomplete, LocationType, SupportedLanguage, CountyCode, GeoPosition, GeocoderAutocompleteOptions, ByCountryCodeOptions, ByCircleOptions, ByRectOptions, ByProximityOptions } from '@geoapify/geocoder-autocomplete';\nimport { GeoapifyConfig, GEOAPIFY_CONFIG } from './geoapify-config';\n\n\n@Component({\n  selector: 'geoapify-geocoder-autocomplete',\n  template: '<div class=\"geocoder-container\" #container></div>',\n  styles: [\n    '.geocoder-container {position: relative}'\n  ]\n})\nexport class GeocoderAutocompleteComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n\n  autocomplete: GeocoderAutocomplete;\n\n  @ViewChild('container')\n  container: ElementRef;\n\n  @Input()\n  value: string;\n\n  @Input()\n  placeholder: string;\n\n  @Input()\n  type: LocationType;\n\n  @Input()\n  skipIcons: boolean;\n\n  @Input()\n  skipDetails: boolean;\n\n  @Input()\n  lang: SupportedLanguage\n\n  @Input()\n  filterByCountryCode: ByCountryCodeOptions;\n\n  @Input()\n  filterByCircle: ByCircleOptions;\n\n  @Input()\n  filterByRect: ByRectOptions;\n\n  @Input()\n  biasByCountryCode: ByCountryCodeOptions;\n\n  @Input()\n  biasByCircle: ByCircleOptions;\n\n  @Input()\n  biasByRect: ByRectOptions;\n\n  @Input()\n  biasByProximity: ByProximityOptions;\n\n  @Input()\n  countryCodes: CountyCode[];   // deprecated\n\n  @Input()\n  position: GeoPosition;   // deprecated\n\n  @Input()\n  limit: number;\n\n  @Output()\n  placeSelect: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output()\n  suggestionsChange: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(@Inject(GEOAPIFY_CONFIG) private config: GeoapifyConfig) { }\n\n  ngOnInit(): void {\n\n  }\n\n  ngAfterViewInit() {\n    const options: GeocoderAutocompleteOptions = {};\n\n    if (this.placeholder) {\n      options.placeholder = this.placeholder;\n    }\n\n    if (this.type) {\n      options.type = this.type;\n    }\n\n    if (this.lang) {\n      options.lang = this.lang;\n    }\n\n    if (this.limit) {\n      options.limit = this.limit;\n    }\n\n    if (this.skipIcons) {\n      options.skipIcons = this.skipIcons;\n    }\n\n    if (this.skipDetails) {\n      options.skipDetails = this.skipDetails;\n    }\n\n    this.autocomplete = new GeocoderAutocomplete(this.container.nativeElement, this.config.apiKey, options);\n\n    if (this.value) {\n      this.autocomplete.setValue(this.value);\n    }\n\n    if (this.countryCodes) {\n      console.warn(\"WARNING! Obsolete function called. The  'countryCodes' input has been deprecated, please use the new 'filterByCountryCode' input instead!\");\n      this.autocomplete.addFilterByCountry(this.countryCodes);\n    }\n\n    if (this.position) {\n      console.warn(\"WARNING! Obsolete function called. The  'position' input has been deprecated, please use the new 'biasByLocation' input instead!\");\n      this.autocomplete.addBiasByProximity(this.position);\n    }\n\n    if (this.filterByCircle) {\n      this.autocomplete.addFilterByCircle(this.filterByCircle);\n    }\n\n    if (this.filterByCountryCode) {\n      this.autocomplete.addFilterByCountry(this.filterByCountryCode);\n    }\n\n    if (this.filterByRect) {\n      this.autocomplete.addFilterByRect(this.filterByRect);\n    }\n\n    if (this.biasByCircle) {\n      this.autocomplete.addBiasByCircle(this.biasByCircle);\n    }\n\n    if (this.biasByRect) {\n      this.autocomplete.addBiasByRect(this.biasByRect);\n    }\n\n    if (this.biasByProximity) {\n      this.autocomplete.addBiasByProximity(this.biasByProximity);\n    }\n\n    if (this.biasByCountryCode) {\n      this.autocomplete.addBiasByCountry(this.biasByCountryCode);\n    }\n\n    this.autocomplete.on('select', this.onSelect.bind(this));\n    this.autocomplete.on('suggestions', this.onSuggestions.bind(this));\n  }\n\n  onSelect(value: any) {\n    this.placeSelect.emit(value);\n  }\n\n  onSuggestions(value: any) {\n    this.suggestionsChange.emit(value);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if (!this.autocomplete) {\n      return;\n    }\n\n    if (changes['value'] &&\n      !changes['value'].isFirstChange()) {\n      this.autocomplete.setValue(changes['value'].currentValue);\n    }\n\n    if (changes['type'] &&\n      !changes['type'].isFirstChange()) {\n      this.autocomplete.setType(changes['type'].currentValue);\n    }\n\n    if (changes['lang'] &&\n      !changes['lang'].isFirstChange()) {\n      this.autocomplete.setLang(changes['lang'].currentValue);\n    }\n\n    if (changes['filterByCircle'] &&\n    !changes['filterByCircle'].isFirstChange()) {\n      this.autocomplete.addFilterByCircle(changes['filterByCircle'].currentValue);\n    }\n\n    if (changes['filterByCountryCode'] &&\n    !changes['filterByCountryCode'].isFirstChange()) {\n      this.autocomplete.addFilterByCountry(changes['filterByCountryCode'].currentValue);\n    }\n\n    if (changes['filterByRect'] &&\n    !changes['filterByRect'].isFirstChange()) {\n      this.autocomplete.addFilterByRect(changes['filterByRect'].currentValue);\n    }\n\n    if (changes['biasByCircle'] &&\n    !changes['biasByCircle'].isFirstChange()) {\n      this.autocomplete.addBiasByCircle(changes['biasByCircle'].currentValue);\n    }\n\n    if (changes['biasByRect'] &&\n    !changes['biasByRect'].isFirstChange()) {\n      this.autocomplete.addBiasByRect(changes['biasByRect'].currentValue);\n    }\n\n    if (changes['biasByProximity'] &&\n    !changes['biasByProximity'].isFirstChange()) {\n      this.autocomplete.addBiasByProximity(changes['biasByProximity'].currentValue);\n    }\n\n    if (changes['biasByCountryCode'] &&\n    !changes['biasByCountryCode'].isFirstChange()) {\n      this.autocomplete.addBiasByCountry(changes['biasByCountryCode'].currentValue);\n    }\n\n    if (changes['countryCodes'] &&\n      !changes['countryCodes'].isFirstChange()) {\n      console.warn(\"WARNING! Obsolete function called. The  'countryCodes' input has been deprecated, please use the new 'filterByCountryCode' input instead!\");\n      this.autocomplete.addFilterByCountry(changes['countryCodes'].currentValue);\n    }\n\n    if (changes['position'] &&\n      !changes['position'].isFirstChange()) {\n      console.warn(\"WARNING! Obsolete function called. The  'position' input has been deprecated, please use the new 'biasByLocation' input instead!\");\n      this.autocomplete.addBiasByProximity(changes['position'].currentValue);\n    }\n\n    if (changes['limit'] &&\n      !changes['limit'].isFirstChange()) {\n      this.autocomplete.setLimit(changes['limit'].currentValue);\n    }\n  }\n\n  ngOnDestroy() {\n    this.autocomplete.off('select', this.onSelect);\n    this.autocomplete.off('suggestions', this.onSuggestions);\n  }\n}","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { GeocoderAutocompleteComponent } from './geocoder-autocomplete.component';\nimport { GEOAPIFY_CONFIG } from './geoapify-config';\n\n@NgModule({\n  declarations: [GeocoderAutocompleteComponent],\n  imports: [\n  ],\n  exports: [GeocoderAutocompleteComponent]\n})\nexport class GeoapifyGeocoderAutocompleteModule {\n  static withConfig( apiKey: string ): ModuleWithProviders<GeoapifyGeocoderAutocompleteModule> {\n    return {\n      ngModule: GeoapifyGeocoderAutocompleteModule,\n      providers: [\n        { provide: GEOAPIFY_CONFIG, useValue: { apiKey: apiKey }}\n      ]\n    }\n  }\n} \n","/*\n * Public API Surface of angular-geocoder-autocomplete\n */\n\nexport * from './lib/geocoder-autocomplete.component';\nexport * from './lib/geocoder-autocomplete.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {GEOAPIFY_CONFIG as ɵa,GeoapifyConfig as ɵb} from './lib/geoapify-config';"],"names":["InjectionToken","EventEmitter","GeocoderAutocomplete","Component","Inject","ViewChild","Input","Output","NgModule"],"mappings":";;;;;;QAEa,eAAe,GAAG,IAAIA,mBAAc,CAAiB,iBAAiB;;;QCuEjF,uCAA6C,MAAsB;YAAtB,WAAM,GAAN,MAAM,CAAgB;YALnE,gBAAW,GAAsB,IAAIC,iBAAY,EAAO,CAAC;YAGzD,sBAAiB,GAAsB,IAAIA,iBAAY,EAAO,CAAC;SAES;QAExE,gDAAQ,GAAR;SAEC;QAED,uDAAe,GAAf;YACE,IAAM,OAAO,GAAgC,EAAE,CAAC;YAEhD,IAAI,IAAI,CAAC,WAAW,EAAE;gBACpB,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;aACxC;YAED,IAAI,IAAI,CAAC,IAAI,EAAE;gBACb,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;aAC1B;YAED,IAAI,IAAI,CAAC,IAAI,EAAE;gBACb,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;aAC1B;YAED,IAAI,IAAI,CAAC,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;aAC5B;YAED,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;aACpC;YAED,IAAI,IAAI,CAAC,WAAW,EAAE;gBACpB,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;aACxC;YAED,IAAI,CAAC,YAAY,GAAG,IAAIC,yCAAoB,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YAExG,IAAI,IAAI,CAAC,KAAK,EAAE;gBACd,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACxC;YAED,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,OAAO,CAAC,IAAI,CAAC,2IAA2I,CAAC,CAAC;gBAC1J,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACzD;YAED,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,OAAO,CAAC,IAAI,CAAC,kIAAkI,CAAC,CAAC;gBACjJ,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACrD;YAED,IAAI,IAAI,CAAC,cAAc,EAAE;gBACvB,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAC1D;YAED,IAAI,IAAI,CAAC,mBAAmB,EAAE;gBAC5B,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;aAChE;YAED,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACtD;YAED,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACtD;YAED,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aAClD;YAED,IAAI,IAAI,CAAC,eAAe,EAAE;gBACxB,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC5D;YAED,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBAC1B,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;aAC5D;YAED,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACzD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACpE;QAED,gDAAQ,GAAR,UAAS,KAAU;YACjB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC9B;QAED,qDAAa,GAAb,UAAc,KAAU;YACtB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACpC;QAED,mDAAW,GAAX,UAAY,OAAsB;YAEhC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gBACtB,OAAO;aACR;YAED,IAAI,OAAO,CAAC,OAAO,CAAC;gBAClB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,EAAE;gBACnC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC;aAC3D;YAED,IAAI,OAAO,CAAC,MAAM,CAAC;gBACjB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,EAAE;gBAClC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC;aACzD;YAED,IAAI,OAAO,CAAC,MAAM,CAAC;gBACjB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,EAAE;gBAClC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC;aACzD;YAED,IAAI,OAAO,CAAC,gBAAgB,CAAC;gBAC7B,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,aAAa,EAAE,EAAE;gBAC1C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,YAAY,CAAC,CAAC;aAC7E;YAED,IAAI,OAAO,CAAC,qBAAqB,CAAC;gBAClC,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC,aAAa,EAAE,EAAE;gBAC/C,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC,YAAY,CAAC,CAAC;aACnF;YAED,IAAI,OAAO,CAAC,cAAc,CAAC;gBAC3B,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,aAAa,EAAE,EAAE;gBACxC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,CAAC;aACzE;YAED,IAAI,OAAO,CAAC,cAAc,CAAC;gBAC3B,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,aAAa,EAAE,EAAE;gBACxC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,CAAC;aACzE;YAED,IAAI,OAAO,CAAC,YAAY,CAAC;gBACzB,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,aAAa,EAAE,EAAE;gBACtC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,CAAC;aACrE;YAED,IAAI,OAAO,CAAC,iBAAiB,CAAC;gBAC9B,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,aAAa,EAAE,EAAE;gBAC3C,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC,CAAC;aAC/E;YAED,IAAI,OAAO,CAAC,mBAAmB,CAAC;gBAChC,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC,aAAa,EAAE,EAAE;gBAC7C,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,CAAC;aAC/E;YAED,IAAI,OAAO,CAAC,cAAc,CAAC;gBACzB,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,aAAa,EAAE,EAAE;gBAC1C,OAAO,CAAC,IAAI,CAAC,2IAA2I,CAAC,CAAC;gBAC1J,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,CAAC;aAC5E;YAED,IAAI,OAAO,CAAC,UAAU,CAAC;gBACrB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,aAAa,EAAE,EAAE;gBACtC,OAAO,CAAC,IAAI,CAAC,kIAAkI,CAAC,CAAC;gBACjJ,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,CAAC;aACxE;YAED,IAAI,OAAO,CAAC,OAAO,CAAC;gBAClB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,EAAE;gBACnC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC;aAC3D;SACF;QAED,mDAAW,GAAX;YACE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;SAC1D;;;;gBA1OFC,cAAS,SAAC;oBACT,QAAQ,EAAE,gCAAgC;oBAC1C,QAAQ,EAAE,mDAAmD;6BAE3D,0CAA0C;iBAE7C;;;gDA8DcC,WAAM,SAAC,eAAe;;;4BAzDlCC,cAAS,SAAC,WAAW;wBAGrBC,UAAK;8BAGLA,UAAK;uBAGLA,UAAK;4BAGLA,UAAK;8BAGLA,UAAK;uBAGLA,UAAK;sCAGLA,UAAK;iCAGLA,UAAK;+BAGLA,UAAK;oCAGLA,UAAK;+BAGLA,UAAK;6BAGLA,UAAK;kCAGLA,UAAK;+BAGLA,UAAK;2BAGLA,UAAK;wBAGLA,UAAK;8BAGLC,WAAM;oCAGNA,WAAM;;;;QC5DT;;QACS,6CAAU,GAAjB,UAAmB,MAAc;YAC/B,OAAO;gBACL,QAAQ,EAAE,kCAAkC;gBAC5C,SAAS,EAAE;oBACT,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,EAAC;iBAC1D;aACF,CAAA;SACF;;;;gBAdFC,aAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,6BAA6B,CAAC;oBAC7C,OAAO,EAAE,EACR;oBACD,OAAO,EAAE,CAAC,6BAA6B,CAAC;iBACzC;;;ICTD;;;;ICAA;;;;;;;;;;;;;;;;"}